## E2Eテストのメリットとデメリット

### メリット
- ユーザー視点のテストを実施できるため、最終的にユーザーに正しくUIが提供できているか単体テストなどでは発見できない不具合を見つけることができる。
- ユーザーの挙動を再現できるため、ボタンをクリックするなど細かなテストが実施できる。
- DBなどのつなぎ込みを含めたテストになるため、本番環境と同等のテストが実施できる。

### デメリット
- 文言のテストをしている場合は文言の変更を細かく追従しないとテストがコケてしまうのでメンテナンスのコストは高い
- ブラウザを起動させてテストするため実行時間が長い傾向がある
- 

## テスト手法の目的について

- 単体テスト
  - コンポーネント単位をテストを行う場合
  - 例)ユーザーの情報を更新する処理などあった場合はDBにデータが正しく登録されるかテストを行う
- 統合テスト
  - 他のコンポーネントを含むテストを行う場合
  - 例)ユーザーの情報更新処理と更新後の通知処理があった場合、それらが連携して動作するかテストを行う
- E2Eテスト
  - ユーザーに一番近い振る舞いをテストする場合
  - 例)
    - ユーザー登録処理後にポップアップが表示されるかテストを行う
    - ユーザーログインの成功と失敗の両ケースのテスト

### 補足

>結合テストとの違い
>結合テストは、アプリケーションの一部のレイヤーやコンポーネントを結合させた状態でテストし、それらのインターフェースに起因する問題を確認します。必ずしも全てを結合させる必要はありません。

>それに対して、E2Eテストでは原則として全てのレイヤーやコンポーネントを結合させた状態でテストを行います。また、DBなどの永続化層や、外部のサービス（例えば、認証に利用しているAuth0やFirebaseAuthenticationなど）も含めて、出来る限り本番環境に近い環境で実施することが多いです。

>ただし、考え方によってはE2Eテストはあくまで結合テストの一つのバリエーションとして捉えることもできます。例えば、本稿で取り扱うCypressというテストツールでは、テストケースを Integration Test と表記しています。厳密に「これがE2Eだ」という定義が存在するわけではないので、チーム内でざっくり「E2Eではこういうことをやるよ」という合意が取れていれば問題ないでしょう。

## FYI
[E2Eテストの長所と短所](https://ranorex.techmatrix.jp/blog/2021/12/10/end-to-end-testing-pros-cons-benefits/)
[【E2Eテスト実践ガイド】E2Eテストの実施方法からおすすめツール、現場での実践ポイントまで詳しく解説](https://www.praha-inc.com/lab/posts/e2e-testing)